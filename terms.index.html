<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Charset & Compatibility -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />

  <!-- SEO -->
  <title>Terms of Service | DebtReliefGuard.com</title>
  <meta name="description" content="Read the Terms of Service for DebtReliefGuard.com. Clear rules, no-nonsense disclaimers, and consumer-first standards. FTC/TCPA-aligned." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://debtreliefguard.com/terms.index.html" />

  <!-- Social -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://debtreliefguard.com/terms.index.html" />
  <meta property="og:title" content="Terms of Service | DebtReliefGuard.com" />
  <meta property="og:description" content="Review the terms that govern your use of DebtReliefGuard.com — transparent, consumer-first, FTC/TCPA-aligned." />
  <meta property="og:site_name" content="DebtReliefGuard.com" />
  <meta property="og:image" content="https://debtreliefguard.com/og-cover.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Terms of Service | DebtReliefGuard.com" />
  <meta name="twitter:description" content="Clear rules, disclaimers, and rights. Consumer-first and transparent." />
  <meta name="twitter:image" content="https://debtreliefguard.com/og-cover.jpg" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <!-- AI Loop Optimizer -->
  <meta name="x-ai-optimizer-page" content="drg:terms" />
  <script>
    window.__ab = {
      pageKey: 'drg:terms',
      slots: {
        headline:   '#ab-cta-text',
        primaryCta: '.hero-ctas .btn.btn-primary',
        phoneCta:   '.hero-ctas .btn.btn-outline'
      },
      defaults: {
        primaryCtaText: '🔒 Start Secure Estimate',
        primaryCtaHref: 'https://debthelpform.com/#lead-form'
      }
    };
  </script>

  <!-- Theme Styles -->
  <style>
    :root{
      --ink:#222; --bg:#ffffff;
      --brand:#004477; --brand-2:#003057;
      --cta:#0b63f6; --ok:#007b55;
      --card:#fff; --card-b:#e5e7eb;
      --shadow:0 10px 30px rgba(0,0,0,.12);
      --callbar-h: 64px; --sitemap-h: 52px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg); color:var(--ink); line-height:1.55;
      padding-top:76px;
      padding-bottom: calc(var(--sitemap-h) + 14px);
    }

    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{position:fixed;left:12px;top:12px;padding:.5rem .75rem;background:#000;color:#fff;z-index:10000;border-radius:6px}

    /* Sticky Top Nav */
    .sticky-nav{position:fixed;top:0;left:0;right:0;background:var(--brand-2);z-index:9999;box-shadow:0 2px 5px rgba(0,0,0,.1)}
    .sticky-nav ul{display:flex;gap:.75rem;margin:0;padding:.75rem 1rem;overflow-x:auto;white-space:nowrap;list-style:none}
    .sticky-nav a{color:#fff;font-weight:600;text-decoration:none;padding:.45rem .7rem;border-radius:6px}
    .sticky-nav a[aria-current="page"]{color:#ffdd00}
    .sticky-nav a:hover{text-decoration:underline}

    /* Desktop call pill */
    .desk-call{position:fixed;right:14px;bottom:14px;z-index:10002;display:none;align-items:center;gap:.4rem;padding:.7rem 1rem;border-radius:999px;background:var(--ok);color:#fff;font-weight:900;text-decoration:none;box-shadow:0 10px 24px rgba(0,0,0,.18)}
    @media (min-width:769px){.desk-call{display:inline-flex}}

    /* Blue Hero */
    header.hero{max-width:960px;margin:1rem auto;background:var(--brand);color:#fff;text-align:center;padding:2rem 1.5rem;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
    header.hero h1{margin:.2rem 0 .6rem;font-size:clamp(1.7rem,3vw+1rem,2.2rem);font-weight:800}
    header.hero .sub{margin:0 auto .8rem;max-width:780px;color:#f1f5f9}
    .hero-ctas{display:flex;justify-content:center;gap:.6rem;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;border-radius:10px;padding:.7rem 1.05rem;font-weight:800;text-decoration:none}
    .btn.btn-primary{background:var(--cta);color:#fff;box-shadow:var(--shadow)}
    .btn.btn-outline{background:transparent;color:#fff;border:2px solid rgba(255,255,255,.75)}

    /* Main Container */
    main.container{max-width:960px;margin:1.25rem auto;background:#fff;border:1px solid var(--card-b);border-radius:12px;padding:1.25rem;box-shadow:0 2px 12px rgba(0,0,0,.06)}
    main.container h2{margin:0 0 .85rem;font-size:1.7rem}
    main.container h3{margin:1.3rem 0 .5rem;font-size:1.25rem;color:#0f2f4f}
    main.container p, main.container li{color:#444}
    main.container ul{margin:.25rem 0 .75rem 1.15rem}

    /* Mobile dual-action bar */
    .mobile-bar{position:fixed;left:0;right:0;bottom:0;background:#0b1220;color:#fff;display:flex;gap:8px;padding:.6rem;z-index:10000}
    .mobile-bar a{flex:1;text-align:center;border-radius:10px;padding:.75rem .5rem;font-weight:900;text-decoration:none}
    .mobile-call{background:var(--ok); color:#fff}
    .mobile-est{background:var(--cta)}
    @media(min-width:769px){.mobile-bar{display:none}}

    /* Floating bottom sitemap */
    .sticky-menu{position:fixed;left:0;right:0;bottom:calc(var(--callbar-h) + env(safe-area-inset-bottom));background:#004488;color:#fff;border-top:2px solid #2563eb;height:var(--sitemap-h);display:flex;align-items:center;z-index:9997}
    .sticky-menu nav{display:flex;gap:1rem;overflow-x:auto;white-space:nowrap;padding:0 .75rem;width:100%;align-items:center}
    .sticky-menu nav a{color:#ffdd00;text-decoration:none;padding:.35rem .55rem;border-radius:6px;font-weight:700;font-size:.92rem}
    .sticky-menu nav a:hover{background:rgba(255,255,255,.1)}

    /* Footer legal */
    footer.legal{max-width:960px;margin:1rem auto 5.5rem;text-align:center;color:#666}
    footer.legal a{color:#0055aa;text-decoration:none}
    footer.legal a:hover{text-decoration:underline}

    /* Small screens spacing */
    @media(max-width:768px){
      body, main { padding-bottom: calc(var(--callbar-h) + var(--sitemap-h) + env(safe-area-inset-bottom) + 14px); }
    }
  </style>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"DebtReliefGuard","url":"https://debtreliefguard.com/","publisher":{"@id":"https://gatewaydebthelp.com/#gfsr"}}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://debtreliefguard.com/"},
    {"@type":"ListItem","position":2,"name":"Terms of Service","item":"https://debtreliefguard.com/terms.index.html"}
  ]}
  </script>
  <!-- Terms page type -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"TermsOfService","name":"Terms of Service","url":"https://debtreliefguard.com/terms.index.html","inLanguage":"en-US"}
  </script>
  <!-- Organization/FinancialService (shared @id; disambiguation) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":["Organization","FinancialService"],
    "@id":"https://gatewaydebthelp.com/#gfsr",
    "name":"Gateway Financial Settlement Relief, LLC",
    "legalName":"Gateway Financial Settlement Relief, LLC",
    "alternateName":["Gateway Debt Help","GFSR"],
    "url":"https://gatewaydebthelp.com/",
    "logo":"https://debtreliefguard.com/og-cover.jpg",
    "telephone":"+1-888-437-7141",
    "address":{"@type":"PostalAddress","addressCountry":"US","addressRegion":"FL"},
    "areaServed":{"@type":"Country","name":"United States"},
    "sameAs":[
      "https://gatewayfinancialsettlementrelief.com/",
      "https://debthelpform.com/",
      "https://debtreliefguard.com/",
      "https://gatewaydebthelp.com/"
    ],
    "contactPoint":{
      "@type":"ContactPoint","telephone":"+1-888-437-7141","contactType":"customer service","areaServed":"US","availableLanguage":["English"]
    },
    "disambiguatingDescription":"Florida-operated, Wyoming-registered debt relief company using 'Gateway Debt Help' as a marketing tagline. Not affiliated with Gateway Debt Relief of Costa Mesa, CA."
  }
  </script>
</head>

<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <!-- Sticky Top Nav -->
  <nav class="sticky-nav" role="navigation" aria-label="Main navigation">
    <ul>
      <li><a href="/" title="Home">Home</a></li>
      <li><a href="/compare.us.html" title="Compare">Compare</a></li>
      <li><a href="/how.it.works.index.html" title="How It Works">How It Works</a></li>
      <li><a href="/debt.relief.option.index.html" title="Debt Relief Options">Debt Relief Options</a></li>
      <li><a href="/credit.card.relief.index.html" title="Credit Card Relief">Credit Card Relief</a></li>
      <li><a href="/savings.calculator.html" title="Savings Calculator">Calculator</a></li>
      <li><a href="/reviews.index.html" title="Reviews">Reviews</a></li>
      <li><a href="/blog.index.html" title="Blog">Blog</a></li>
      <li><a href="/scam.warning.index.html" title="Scam Warnings">Scam Warnings</a></li>
      <li><a href="/faq.index.html" title="FAQ">FAQ</a></li>
      <li><a href="/contact.index.html" title="Contact">Contact</a></li>
      <li><a href="/privacy.policy.index.html" title="Privacy">Privacy</a></li>
      <li><a href="/terms.index.html" aria-current="page" title="Terms">Terms</a></li>
      <li><a href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener" title="Get Your Free Secure Estimate">Get Estimate</a></li>
      <li><a href="https://gatewaydebthelp.com" target="_blank" rel="noopener" title="Gateway Debt Help">GatewayDebtHelp.com</a></li>
      <li><a href="https://gatewayfinancialsettlementrelief.com" target="_blank" rel="noopener" title="GFSR Owner"><strong>GFSR Owner</strong></a></li>
    </ul>
  </nav>

  <!-- Desktop call pill -->
  <a class="desk-call" href="tel:+18884377141">📞 888-437-7141</a>

  <!-- Blue Hero -->
  <header class="hero" role="banner" aria-label="Terms hero">
    <h1 id="ab-cta-text">Terms of Service — DebtReliefGuard.com</h1>
    <p class="sub">Please read these terms carefully. Using this site means you agree to them. No spam, no hidden fees, no dark patterns.</p>
    <div class="hero-ctas">
      <a class="btn btn-primary" href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener">🔒 Start Secure Estimate</a>
      <a class="btn btn-outline" href="tel:+18884377141">📞 Talk to a Specialist</a>
    </div>
  </header>

  <!-- Main Terms -->
  <main id="main" class="container" role="main" aria-label="Terms of Service">
    <h2>Effective Date: August 2025</h2>

    <h3>1) Acceptance of These Terms</h3>
    <p>By accessing or using DebtReliefGuard.com (the “Site”), you agree to be bound by these Terms of Service (“Terms”) and our Privacy Policy. If you do not agree, please discontinue use.</p>

    <h3>2) Who We Are</h3>
    <p>The Site is operated by <strong>Gateway Financial Settlement Relief, LLC</strong> (“GFSR”). We are an independent educational resource; we are not a lender, law firm, or settlement provider. We help consumers compare verified options.</p>

    <h3>3) Eligibility</h3>
    <p>You must be at least 18 years old (or the age of majority in your jurisdiction) to use this Site. Certain services may be unavailable in restricted states (see below).</p>

    <h3>4) No Legal, Tax, or Financial Advice</h3>
    <p>All content is for educational purposes only and does not constitute legal, tax, or financial advice. Consult professional advisors before making decisions.</p>

    <h3>5) Your Responsibilities</h3>
    <ul>
      <li>Provide accurate, current information when using forms or contacting us.</li>
      <li>Use the Site only for lawful purposes and in accordance with these Terms.</li>
      <li>Do not attempt to disrupt or compromise the Site’s security or services.</li>
    </ul>

    <h3>6) Prohibited Uses</h3>
    <ul>
      <li>Scraping, automated harvesting, or reverse engineering of the Site.</li>
      <li>Submitting fraudulent, defamatory, or infringing content.</li>
      <li>Attempting to gain unauthorized access to systems, data, or accounts.</li>
      <li>Any activity that violates applicable laws, regulations, or rights of others.</li>
    </ul>

    <h3>7) Intellectual Property</h3>
    <p>All text, graphics, logos, icons, and software on the Site are the property of GFSR or its licensors and are protected by intellectual property laws. You may not copy, modify, or distribute Site content without written permission, except for limited, non-commercial personal use.</p>

    <h3>8) User Content & License</h3>
    <p>When you submit information or messages via forms or email, you grant us a non-exclusive, worldwide license to use that content solely to operate, improve, and provide the Site and services. You represent that you have the necessary rights to submit such content.</p>

    <h3>9) Third-Party Links & Partners</h3>
    <p>The Site may link to third-party websites (e.g., <a href="https://debthelpform.com" target="_blank" rel="noopener">DebtHelpForm.com</a>, <a href="https://gatewaydebthelp.com" target="_blank" rel="noopener">GatewayDebtHelp.com</a>). We do not control or endorse these sites and are not responsible for their content, policies, or practices.</p>

    <h3>10) Disclaimers</h3>
    <p>THE SITE AND ITS CONTENT ARE PROVIDED “AS IS” AND “AS AVAILABLE.” WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE DO NOT WARRANT THAT THE SITE WILL BE UNINTERRUPTED, SECURE, OR ERROR-FREE.</p>

    <h3>11) Limitation of Liability</h3>
    <p>TO THE MAXIMUM EXTENT PERMITTED BY LAW, GFSR AND ITS AFFILIATES WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR DATA, ARISING OUT OF OR RELATED TO YOUR USE OF THE SITE.</p>

    <h3>12) Indemnification</h3>
    <p>You agree to defend, indemnify, and hold harmless GFSR, its affiliates, officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, and expenses (including reasonable attorneys’ fees) arising out of or related to your violation of these Terms or misuse of the Site.</p>

    <h3>13) Dispute Resolution; Governing Law</h3>
    <p>These Terms are governed by the laws of the State of Florida, without regard to conflict-of-law principles. You agree to resolve disputes through <strong>binding arbitration</strong> on an individual basis in Florida, and you waive any right to participate in a class action. You and we retain the right to seek injunctive relief in a court of competent jurisdiction.</p>

    <h3>14) Changes to the Site & Terms</h3>
    <p>We may update the Site or these Terms at any time. Material changes will be posted on this page with a revised Effective Date. Your continued use indicates acceptance of the updated Terms.</p>

    <h3>15) Termination</h3>
    <p>We may suspend or terminate access to the Site at any time for any reason, including, without limitation, violation of these Terms or applicable laws.</p>

    <h3>16) Notices & Contact</h3>
    <p>We may deliver notices to you via the Site, email, or other reasonable means. For questions about these Terms, contact: <a href="mailto:info@gatewaydebthelp.com">info@gatewaydebthelp.com</a> or call <a href="tel:+18884377141">+1 (888) 437-7141</a>.</p>
  </main>

  <!-- Mobile dual action bar -->
  <div id="drgMobileBar" class="mobile-bar" aria-label="Quick actions">
    <a class="mobile-call" href="tel:+18884377141">📞 Call 888-437-7141</a>
    <a class="mobile-est" href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener">🔒 Start Secure Estimate</a>
  </div>

  <!-- Floating bottom sitemap -->
  <footer class="sticky-menu" role="navigation" aria-label="Site map">
    <nav>
      <a href="/">Home</a>
      <a href="/compare.us.html">Compare</a>
      <a href="/how.it.works.index.html">How It Works</a>
      <a href="/debt.relief.option.index.html">Debt Relief Options</a>
      <a href="/credit.card.relief.index.html">Credit Card Relief</a>
      <a href="/savings.calculator.html">Calculator</a>
      <a href="/reviews.index.html">Reviews</a>
      <a href="/blog.index.html">Blog</a>
      <a href="/scam.warning.index.html">Scam Warnings</a>
      <a href="/faq.index.html">FAQ</a>
      <a href="/contact.index.html">Contact</a>
      <a href="/privacy.policy.index.html">Privacy</a>
      <a href="/terms.index.html" aria-current="page">Terms</a>
      <a href="/geo-blocked.html" rel="nofollow">Geo-Blocked</a>
      <a href="https://debthelpform.com" target="_blank" rel="noopener">DebtHelpForm.com</a>
      <a href="https://gatewaydebthelp.com" target="_blank" rel="noopener">GatewayDebtHelp.com</a>
    </nav>
  </footer>

  <!-- Footer legal -->
  <footer class="legal">
    <p>&copy; 2025 DebtReliefGuard.com — Independent, Secure, Compliant.</p>
    <p>Website operated by <a href="https://gatewayfinancialsettlementrelief.com" target="_blank" rel="noopener">Gateway Financial Settlement Relief</a></p>
    <p style="font-size:.82rem;color:#999">“Gateway Debt Help” is the marketing brand of <strong>Gateway Financial Settlement Relief, LLC</strong>. Not affiliated with “Gateway Debt Relief” of Costa Mesa, CA.</p>
  </footer>

  <!-- Honeypot -->
  <script>
    (function(){
      const honeypot=document.createElement("input");
      honeypot.type="text";honeypot.name="website";honeypot.autocomplete="off";
      honeypot.hidden=true;honeypot.setAttribute("aria-hidden","true");
      document.body.appendChild(honeypot);
      let moved=false,t=0;
      addEventListener('mousemove',()=>moved=true,{passive:true});
      addEventListener('keydown',()=>moved=true,{passive:true});
      setInterval(()=>t++,1000);
      window.validateBotProtections=()=> (honeypot.value==="" && moved && t>=3);
    })();
  </script>

  <!-- Dynamic spacing for mobile bar -->
  <script>
    (function(){
      const root=document.documentElement, mb=document.getElementById('drgMobileBar');
      function setH(){ const h=mb && getComputedStyle(mb).display!=='none' ? mb.offsetHeight : 0; root.style.setProperty('--callbar-h', h+'px'); }
      setH(); addEventListener('resize', setH, {passive:true}); setTimeout(setH,250); setTimeout(setH,1000);
    })();
  </script>

  <!-- Telemetry (015) -->
  <script>
    (function(){
      try{
        const key='drg:sess:v1'; let sid=sessionStorage.getItem(key);
        if(!sid){ sid=crypto.randomUUID(); sessionStorage.setItem(key, sid); }
        const payload={ v:1, ts:Date.now(), sid, url:location.href, ref:document.referrer||null, w:innerWidth, h:innerHeight };
        const blob=new Blob([JSON.stringify(payload)],{type:'application/json'});
        if(navigator.sendBeacon){ navigator.sendBeacon('/ingest', blob); }
        else { fetch('/ingest',{ method:'POST', body:blob, keepalive:true, headers:{'Content-Type':'application/json'} }).catch(()=>{}); }
      }catch(_){}
    })();
  </script>

  <!-- Chatbot (016) -->
  <button id="gfsrChatFab" class="gfsr-chat-fab" aria-haspopup="dialog" aria-expanded="false" aria-controls="gfsrChatSheet"
          style="position:fixed; right:14px; bottom:calc(var(--callbar-h) + var(--sitemap-h) + 14px); z-index:10003; display:inline-flex; align-items:center; gap:.5rem; padding:.8rem 1rem; border-radius:999px; border:1px solid rgba(0,0,0,.06); background:#0b63f6; color:#fff; box-shadow:0 10px 30px rgba(0,0,0,.18); font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial">💬 Chat</button>

  <section id="gfsrChatSheet" class="gfsr-chat-sheet" role="dialog" aria-modal="true"
           aria-labelledby="gfsrChatTitle" aria-describedby="gfsrChatDesc" hidden
           style="position:fixed; inset:auto 0 0 0; margin:auto; width:100%; max-width:420px; right:12px; left:auto; border-radius:18px 18px 0 0; background:#fff; box-shadow:0 10px 30px rgba(0,0,0,.18); transform:translateY(110%); transition:transform .28s ease; border:1px solid rgba(0,0,0,.06); z-index:10004">
    <header class="gfsr-chat-head" style="display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid rgba(0,0,0,.06); background:#f9fafb; border-radius:inherit">
      <div>
        <div id="gfsrChatTitle" class="gfsr-chat-title" style="font-weight:700; font-size:15px">Debt Help Assistant</div>
        <div id="gfsrChatDesc" class="sr-only">Chat with our assistant. Press Escape to close.</div>
      </div>
      <button id="gfsrChatClose" class="gfsr-chat-close" aria-label="Close chat" style="background:transparent; border:none; padding:8px; border-radius:10px; cursor:pointer">✕</button>
    </header>

    <div id="gfsrChatBody" class="gfsr-chat-body" tabindex="0" style="display:flex; flex-direction:column; gap:8px; padding:12px; height:min(70vh, 520px); overflow:auto; -webkit-overflow-scrolling:touch"></div>

    <form id="gfsrChatForm" class="gfsr-chat-input" style="display:flex; gap:8px; padding:10px; border-top:1px solid rgba(0,0,0,.06); background:#fff; border-radius:0 0 18px 18px">
      <label class="sr-only" for="gfsrChatInput">Type your message</label>
      <textarea id="gfsrChatInput" rows="1" placeholder="Type a message…" aria-label="Message" style="flex:1; resize:none; min-height:42px; max-height:120px; padding:10px 12px; border:1px solid #e5e7eb; border-radius:12px; font-size:14px; line-height:1.35"></textarea>
      <button id="gfsrChatSend" class="gfsr-chat-send" type="submit" style="background:#0b63f6; color:#fff; border:none; padding:12px 14px; border-radius:12px; font-weight:700">Send</button>
    </form>
  </section>

  <script>
    (function(){
      const el = { fab:document.getElementById('gfsrChatFab'), sheet:document.getElementById('gfsrChatSheet'), close:document.getElementById('gfsrChatClose'), body:document.getElementById('gfsrChatBody'), form:document.getElementById('gfsrChatForm'), input:document.getElementById('gfsrChatInput'), send:document.getElementById('gfsrChatSend') };

      const openChat = () => { el.sheet.removeAttribute('hidden'); el.sheet.classList.add('open'); el.sheet.style.transform='translateY(0)'; el.fab.setAttribute('aria-expanded','true'); setTimeout(()=>el.input.focus(),120); };
      const closeChat = () => { el.sheet.classList.remove('open'); el.sheet.style.transform='translateY(110%)'; el.fab.setAttribute('aria-expanded','false'); el.sheet.setAttribute('hidden',''); el.fab.focus(); };
      el.fab.addEventListener('click', openChat); el.close.addEventListener('click', closeChat);
      addEventListener('keydown', e => { if (e.key==='Escape' && !el.sheet.hasAttribute('hidden')) closeChat(); });

      const addMsg=(t,w='bot')=>{ const d=document.createElement('div'); d.className=`gfsr-msg ${w}`; d.style.maxWidth='88%'; d.style.padding='10px 12px'; d.style.borderRadius='14px'; d.style.fontSize='14px'; d.style.lineHeight='1.35';
        if(w==='user'){ d.style.marginLeft='auto'; d.style.background='#0b63f6'; d.style.color='#fff'; d.style.borderTopRightRadius='4px'; }
        else if(w==='bot'){ d.style.background='#eef2ff'; d.style.color='#111'; d.style.borderTopLeftRadius='4px'; }
        else{ d.style.background='#f3f4f6'; d.style.color='#444'; d.style.fontSize='12px'; d.style.margin='4px auto'; }
        d.textContent=(t??'').toString(); el.body.appendChild(d); el.body.scrollTop=el.body.scrollHeight; };

      const KEY='drg:chat-history';
      try{ (JSON.parse(localStorage.getItem(KEY)||'[]')).slice(-20).forEach(m=>addMsg(m.text,m.who)); }catch{}
      const remember=(t,w)=>{ try{ const h=JSON.parse(localStorage.getItem(KEY)||'[]'); h.push({text:t,who:w,t:Date.now()}); localStorage.setItem(KEY, JSON.stringify(h).slice(-8000)); }catch{} };

      let interacted=false; addEventListener('mousemove',()=>interacted=true,{once:true,passive:true}); addEventListener('keydown',()=>interacted=true,{once:true,passive:true});
      const nonce=()=>Array.from(crypto.getRandomValues(new Uint8Array(12))).map(b=>b.toString(16).padStart(2,'0')).join('');
      const API=`${location.origin}/chat`; let busy=false;

      el.form.addEventListener('submit', async (e)=>{
        e.preventDefault(); if(!interacted||busy) return;
        const message=(el.input.value||'').trim(); if(!message) return;
        addMsg(message,'user'); remember(message,'user'); el.input.value=''; busy=true; el.send.disabled=true;
        try{
          const r=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','X-Requested-With':'XMLHttpRequest','X-Client-Nonce':nonce()},body:JSON.stringify({messages:[{role:'user',content:message}],source:'frontend',url:location.href})});
          if(!r.ok){ const t=await r.text().catch(()=> ''); addMsg(`Service error ${r.status}.`,'meta'); console.error('CHAT ERROR', r.status, t); return; }
          const ct=r.headers.get('content-type')||''; let reply=''; reply = ct.includes('application/json') ? (await r.json()).reply || '' : await r.text();
          addMsg(reply||'Happy to help further.','bot'); remember(reply||'','bot');
        }catch(err){ console.error('CHAT NET', err); addMsg('Network error — please try again.','meta'); }
        finally{ busy=false; el.send.disabled=false; el.input.focus(); }
      });

      if(!el.body.children.length) addMsg('Need help understanding these terms? Ask me in plain English.');
    })();
  </script>

  <noscript><p style="text-align:center;color:#666">Enable JavaScript to view dynamic features and chat.</p></noscript>

  <!-- 050: Savings message loader (updates #ab-cta-text if API is present) -->
  <script>
    (function(){
      const el = document.querySelector('#ab-cta-text'); if(!el) return;
      const FALLBACK = el.textContent || '';
      const CACHE_KEY = 'drg:savings:v1'; const MAX_AGE_MS = 10*60*1000;

      try{
        const raw = localStorage.getItem(CACHE_KEY);
        if(raw){
          const { ts, message } = JSON.parse(raw);
          if(ts && (Date.now()-ts) < MAX_AGE_MS && message) el.textContent = (message ?? '').toString();
        }
      }catch{}

      (async ()=>{
        const sleep = (ms)=>new Promise(r=>setTimeout(r,ms));
        const attempt = async (ms) => {
          const ctrl=new AbortController(); const to=setTimeout(()=>ctrl.abort(), ms);
          try{
            const r = await fetch('/api/savings-message', {
              headers:{'Accept':'application/json','X-Requested-With':'XMLHttpRequest'},
              cache:'no-store', credentials:'omit', signal:ctrl.signal
            });
            clearTimeout(to);
            if(!r.ok || !((r.headers.get('content-type')||'').includes('application/json'))) throw new Error();
            const data = await r.json();
            if(data && data.message){
              el.textContent = (data.message ?? '').toString();
              try{ localStorage.setItem(CACHE_KEY, JSON.stringify({ ts: Date.now(), message: data.message })); }catch{}
              return true;
            }
          }catch{}
          return false;
        };
        let ok = await attempt(3500);
        if(!ok){ await sleep(180); ok = await attempt(4500); }
        if(!ok) el.textContent = FALLBACK;
      })();
    })();
  </script>

  <!-- Page bridge for 015 / 016 / 057 (non-visual; no-ops unless called) -->
  <script>
    (function(){
      if (window.GFSR && window.GFSR.bridgeReady) return;
      const $ = (s)=>document.querySelector(s);
      const api = {
        bridgeReady: true,
        page: document.querySelector('meta[name="x-ai-optimizer-page"]')?.content || null,
        slots: (window.__ab && window.__ab.slots) ? window.__ab.slots : {},
        // 050/015: controlled content setters
        setHeadline(txt){ const h = $('#ab-cta-text'); if(h && typeof txt==='string') h.textContent = txt; },
        setPrimaryCta({text, href}={}){ const a=$('.hero-ctas .btn.btn-primary'); if(a){ if(typeof text==='string') a.textContent=text; if(typeof href==='string') a.href=href; } },
        // 057: log helper
        log(name, data={}){
          try{
            const b=new Blob([JSON.stringify({ name, ts:Date.now(), url:location.href, ...data })],{type:'application/json'});
            if(navigator.sendBeacon) navigator.sendBeacon('/ingest', b);
            else fetch('/ingest',{ method:'POST', body:b, keepalive:true, headers:{'Content-Type':'application/json'} }).catch(()=>{});
          }catch{}
        },
        // 016: programmatic chat send
        chatSend(text){
          const input=document.getElementById('gfsrChatInput');
          const form =document.getElementById('gfsrChatForm');
          if(input && form){ input.value = text || ''; form.requestSubmit(); }
        }
      };
      // 015: optional client API (safe if server exposes /ab/*)
      api.w015 = {
        decide: (experimentKey, context={}) =>
          fetch('/ab/decide', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ experimentKey, context }) }).then(r=>r.json()),
        report: (experimentKey, variant, outcome, meta={}) =>
          fetch('/ab/report', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ experimentKey, variant, outcome, meta }) }).then(r=>r.ok)
      };
      window.GFSR = Object.assign(window.GFSR || {}, api);
    })();
  </script>
</body>
</html>
