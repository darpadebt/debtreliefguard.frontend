<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Charset & Compatibility -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />

  <!-- SEO -->
  <title>Contact Us — DebtReliefGuard | FTC-Aligned, Scam-Safe Help</title>
  <meta name="description" content="Questions about debt relief? Contact DebtReliefGuard for FTC-aligned, no-pressure guidance. Call 888-437-7141 or send a secure message." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://debtreliefguard.com/contact.index.html" />

  <!-- Social -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://debtreliefguard.com/contact.index.html" />
  <meta property="og:title" content="Contact Us — DebtReliefGuard | FTC-Aligned, Scam-Safe Help" />
  <meta property="og:description" content="Call 888-437-7141 or send a secure message. No sales pressure—just verified answers." />
  <meta property="og:site_name" content="DebtReliefGuard.com" />
  <meta property="og:image" content="https://debtreliefguard.com/og-cover.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Contact Us — DebtReliefGuard | FTC-Aligned, Scam-Safe Help" />
  <meta name="twitter:description" content="Call 888-437-7141 or send a secure message. No sales pressure—just verified answers." />
  <meta name="twitter:image" content="https://debtreliefguard.com/og-cover.jpg" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <!-- A/B hook -->
  <meta name="x-ai-optimizer-page" content="drg:contact" />
  <script>
    window.__ab = {
      pageKey: 'drg:contact',
      slots: {
        headline:   '#ab-cta-text',
        primaryCta: '.hero-ctas .btn.btn-primary',
        phoneCta:   '.hero-ctas .btn.btn-outline'
      },
      defaults: {
        primaryCtaText: '🔒 Start Secure Estimate',
        primaryCtaHref: 'https://debthelpform.com/#lead-form'
      }
    };
  </script>

  <!-- Theme Styles -->
  <style>
    :root{
      --ink:#222; --bg:#ffffff;
      --brand:#004477; --brand-2:#003057;
      --cta:#0b63f6; --ok:#007b55;
      --card:#fff; --card-b:#e5e7eb;
      --shadow:0 10px 30px rgba(0,0,0,.12);
      --callbar-h: 64px;
      --sitemap-h: 52px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg); color:var(--ink); line-height:1.55;
      padding-top:76px;
      padding-bottom: calc(var(--sitemap-h) + 14px);
    }

    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{position:fixed;left:12px;top:12px;padding:.5rem .75rem;background:#000;color:#fff;z-index:10000;border-radius:6px}

    /* Sticky Top Nav */
    .sticky-nav{position:fixed;top:0;left:0;right:0;background:var(--brand-2);z-index:9999;box-shadow:0 2px 5px rgba(0,0,0,.1)}
    .sticky-nav ul{display:flex;gap:.75rem;margin:0;padding:.75rem 1rem;overflow-x:auto;white-space:nowrap;list-style:none}
    .sticky-nav a{color:#fff;font-weight:600;text-decoration:none;padding:.45rem .7rem;border-radius:6px}
    .sticky-nav a[aria-current="page"]{color:#ffdd00}
    .sticky-nav a:hover{text-decoration:underline}

    /* Desktop Call Pill */
    .desk-call{
      position:fixed;right:14px;bottom:14px;z-index:10002;display:none;align-items:center;gap:.4rem;
      padding:.7rem 1rem;border-radius:999px;background:var(--ok);color:#fff;font-weight:900;text-decoration:none;
      box-shadow:0 10px 24px rgba(0,0,0,.18);
    }
    @media (min-width:769px){.desk-call{display:inline-flex}}

    /* Blue Hero */
    header.hero{
      max-width:960px;margin:1rem auto;background:var(--brand);color:#fff;
      text-align:center;padding:2rem 1.5rem;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.08)
    }
    header.hero h1{margin:.2rem 0 .6rem;font-size:clamp(1.7rem,3vw + 1rem,2.3rem);font-weight:800}
    header.hero .sub{margin:0 auto .8rem;max-width:720px;color:#f1f5f9}
    .hero-ctas{display:flex;justify-content:center;gap:.6rem;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;border-radius:10px;padding:.7rem 1.05rem;font-weight:800;text-decoration:none}
    .btn.btn-primary{background:var(--cta);color:#fff;box-shadow:var(--shadow)}
    .btn.btn-outline{background:transparent;color:#fff;border:2px solid rgba(255,255,255,.75)}

    /* Content Cards */
    .container{max-width:960px;margin:1.25rem auto;display:grid;gap:1rem}
    @media(min-width:980px){.container{grid-template-columns:1fr 1fr}}

    .card{background:var(--card);border:1px solid var(--card-b);border-radius:12px;padding:1.2rem;box-shadow:0 2px 12px rgba(0,0,0,.06)}
    .card h2{margin:.1rem 0 .5rem;font-size:1.25rem}
    .card p{margin:.25rem 0;color:#444}
    .meta-row{display:grid;gap:.4rem;margin-top:.6rem}
    .meta-row a{color:#0b63f6;text-decoration:none}
    .meta-row a:hover{text-decoration:underline}

    /* Contact Form */
    form.contact{
      display:grid;gap:.75rem;margin-top:.4rem
    }
    label{font-weight:700}
    input[type="text"],input[type="email"],textarea{
      width:100%;padding:.7rem;border:1px solid #d1d5db;border-radius:10px
    }
    textarea{min-height:120px;resize:vertical}
    .row2{display:grid;gap:.75rem}
    @media(min-width:560px){.row2{grid-template-columns:1fr 1fr}}
    .small{font-size:.85rem;color:#6b7280}
    .btn-row{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.4rem}
    .btn.submit{background:var(--cta);color:#fff;border:none}
    .btn.secondary{background:transparent;color:#0b63f6;border:2px solid #0b63f6}
    .msg{margin-top:.6rem;font-weight:700}
    .msg.ok{color:#007b55}
    .msg.err{color:#b91c1c}

    /* Mobile dual-action bar */
    .mobile-bar{position:fixed;left:0;right:0;bottom:0;background:#0b1220;color:#fff;display:flex;gap:8px;padding:.6rem;z-index:10000}
    .mobile-bar a{flex:1;text-align:center;border-radius:10px;padding:.75rem .5rem;font-weight:900;text-decoration:none}
    .mobile-call{background:var(--ok);color:#fff}
    .mobile-est{background:var(--cta);color:#fff}
    @media(min-width:769px){.mobile-bar{display:none}}

    /* Floating bottom sitemap */
    .sticky-menu{position:fixed;left:0;right:0;bottom:calc(var(--callbar-h) + env(safe-area-inset-bottom));background:#004488;color:#fff;border-top:2px solid #2563eb;height:var(--sitemap-h);display:flex;align-items:center;z-index:9997}
    .sticky-menu nav{display:flex;gap:1rem;overflow-x:auto;white-space:nowrap;padding:0 .75rem;width:100%;align-items:center}
    .sticky-menu nav a{color:#ffdd00;text-decoration:none;padding:.35rem .55rem;border-radius:6px;font-weight:700;font-size:.92rem}
    .sticky-menu nav a:hover{background:rgba(255,255,255,.1)}

    @media(max-width:768px){
      body, main { padding-bottom: calc(var(--callbar-h) + var(--sitemap-h) + env(safe-area-inset-bottom) + 14px); }
    }
  </style>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"DebtReliefGuard","url":"https://debtreliefguard.com/","publisher":{"@id":"https://gatewaydebthelp.com/#gfsr"}}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://debtreliefguard.com/"},
    {"@type":"ListItem","position":2,"name":"Contact","item":"https://debtreliefguard.com/contact.index.html"}
  ]}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"ContactPage","name":"Contact DebtReliefGuard","url":"https://debtreliefguard.com/contact.index.html","contactPoint":{"@type":"ContactPoint","telephone":"+1-888-437-7141","contactType":"customer service","areaServed":"US","availableLanguage":["English"]}}
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":["Organization","FinancialService"],
    "@id":"https://gatewaydebthelp.com/#gfsr",
    "name":"Gateway Financial Settlement Relief, LLC",
    "legalName":"Gateway Financial Settlement Relief, LLC",
    "alternateName":["Gateway Debt Help","GFSR"],
    "url":"https://gatewaydebthelp.com/",
    "logo":"https://debtreliefguard.com/og-cover.jpg",
    "telephone":"+1-888-437-7141",
    "address":{"@type":"PostalAddress","addressCountry":"US","addressRegion":"FL"},
    "areaServed":{"@type":"Country","name":"United States"},
    "sameAs":[
      "https://gatewayfinancialsettlementrelief.com/",
      "https://debthelpform.com/",
      "https://debtreliefguard.com/",
      "https://gatewaydebthelp.com/"
    ],
    "contactPoint":{
      "@type":"ContactPoint","telephone":"+1-888-437-7141","contactType":"customer service","areaServed":"US","availableLanguage":["English"]
    },
    "disambiguatingDescription":"Florida-operated, Wyoming-registered debt relief company using 'Gateway Debt Help' as a marketing tagline. Not affiliated with Gateway Debt Relief of Costa Mesa, CA."
  }
  </script>
</head>

<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <!-- Sticky Top Nav -->
  <nav class="sticky-nav" role="navigation" aria-label="Main navigation">
    <ul>
      <li><a href="/" title="Home">Home</a></li>
      <li><a href="/compare.us.html" title="Compare">Compare</a></li>
      <li><a href="/how.it.works.index.html" title="How It Works">How It Works</a></li>
      <li><a href="/debt.relief.option.index.html" title="Debt Relief Options">Debt Relief Options</a></li>
      <li><a href="/credit.card.relief.index.html" title="Credit Card Relief">Credit Card Relief</a></li>
      <li><a href="/savings.calculator.html" title="Savings Calculator">Calculator</a></li>
      <li><a href="/reviews.index.html" title="Reviews">Reviews</a></li>
      <li><a href="/blog.index.html" title="Blog">Blog</a></li>
      <li><a href="/scam.warning.index.html" title="Scam Warnings">Scam Warnings</a></li>
      <li><a href="/faq.index.html" title="FAQ">FAQ</a></li>
      <li><a href="/contact.index.html" aria-current="page" title="Contact">Contact</a></li>
      <li><a href="/privacy.policy.index.html" title="Privacy">Privacy</a></li>
      <li><a href="/terms.index.html" title="Terms">Terms</a></li>
      <li><a href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener" title="Get Your Free Secure Estimate">Get Estimate</a></li>
      <li><a href="https://gatewaydebthelp.com" target="_blank" rel="noopener" title="Gateway Debt Help">GatewayDebtHelp.com</a></li>
      <li><a href="https://gatewayfinancialsettlementrelief.com" target="_blank" rel="noopener" title="GFSR Owner"><strong>GFSR Owner</strong></a></li>
    </ul>
  </nav>

  <!-- Desktop call pill -->
  <a class="desk-call" href="tel:+18884377141">📞 888-437-7141</a>

  <!-- Blue Hero -->
  <header class="hero" role="banner" aria-label="Contact hero">
    <h1 id="ab-cta-text">Contact DebtReliefGuard</h1>
    <p class="sub">FTC-aligned, no-pressure guidance. Ask anything—get a clear answer. We’re here to help.</p>
    <div class="hero-ctas">
      <a class="btn btn-primary" href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener">🔒 Start Secure Estimate</a>
      <a class="btn btn-outline" href="tel:+18884377141">📞 Call 888-437-7141</a>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main" class="container" role="main">
    <!-- Card: Call, Email, Hours -->
    <section class="card" aria-labelledby="contact-direct">
      <h2 id="contact-direct">Talk to a Specialist</h2>
      <p>Prefer a human? Reach us directly—no scripts, no sales pressure.</p>
      <div class="meta-row" aria-label="Direct contact options">
        <div><strong>Phone:</strong> <a href="tel:+18884377141">+1 (888) 437-7141</a></div>
        <div><strong>Email:</strong> <a href="mailto:info@gatewaydebthelp.com">info@gatewaydebthelp.com</a></div>
        <div><strong>Hours:</strong> Mon–Fri 9am–7pm ET (US)</div>
      </div>
      <p class="small" style="margin-top:.6rem">For a quick estimate without calling, use the secure form at <a href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener">DebtHelpForm.com</a>.</p>
    </section>

    <!-- Card: Contact Form -->
    <section class="card" aria-labelledby="contact-form-title">
      <h2 id="contact-form-title">Send a Secure Message</h2>
      <form id="contactForm" class="contact" novalidate>
        <div class="row2">
          <div>
            <label for="name">Your Name</label>
            <input id="name" name="name" type="text" placeholder="Jane Doe" required />
          </div>
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required />
          </div>
        </div>
        <div class="row2">
          <div>
            <label for="phone">Phone (optional)</label>
            <input id="phone" name="phone" type="text" placeholder="(555) 555-5555" />
          </div>
          <div>
            <label for="topic">Topic</label>
            <input id="topic" name="topic" type="text" placeholder="Billing, Estimate, Eligibility…" />
          </div>
        </div>
        <div>
          <label for="message">How can we help?</label>
          <textarea id="message" name="message" placeholder="Tell us what’s going on…" required></textarea>
        </div>
        <p class="small">By contacting us, you agree to our <a href="/privacy.policy.index.html">Privacy Policy</a>. We never sell your information. TCPA: you may request “no calls.”</p>
        <div class="btn-row">
          <button type="submit" class="btn submit">Send Message</button>
          <a class="btn secondary" href="mailto:info@gatewaydebthelp.com">Email Instead</a>
        </div>
        <div id="formMsg" class="msg" role="status" aria-live="polite" style="min-height:1.2em"></div>
      </form>
    </section>
  </main>

  <!-- Mobile dual action bar -->
  <div id="drgMobileBar" class="mobile-bar" aria-label="Quick actions">
    <a class="mobile-call" href="tel:+18884377141">📞 Call 888-437-7141</a>
    <a class="mobile-est" href="https://debthelpform.com/#lead-form" target="_blank" rel="noopener">🔒 Start Secure Estimate</a>
  </div>

  <!-- Floating bottom sitemap -->
  <footer class="sticky-menu" role="navigation" aria-label="Site map">
    <nav>
      <a href="/">Home</a>
      <a href="/compare.us.html">Compare</a>
      <a href="/how.it.works.index.html">How It Works</a>
      <a href="/debt.relief.option.index.html">Debt Relief Options</a>
      <a href="/credit.card.relief.index.html">Credit Card Relief</a>
      <a href="/savings.calculator.html">Calculator</a>
      <a href="/reviews.index.html">Reviews</a>
      <a href="/blog.index.html">Blog</a>
      <a href="/scam.warning.index.html">Scam Warnings</a>
      <a href="/faq.index.html">FAQ</a>
      <a href="/contact.index.html" aria-current="page">Contact</a>
      <a href="/privacy.policy.index.html">Privacy</a>
      <a href="/terms.index.html">Terms</a>
      <a href="/geo-blocked.html" rel="nofollow">Geo-Blocked</a>
      <a href="https://debthelpform.com" target="_blank" rel="noopener">DebtHelpForm.com</a>
      <a href="https://gatewaydebthelp.com" target="_blank" rel="noopener">GatewayDebtHelp.com</a>
    </nav>
  </footer>

  <!-- Footer legal -->
  <footer style="max-width:960px;margin:1rem auto 5.5rem;text-align:center;color:#666">
    <p>&copy; 2025 DebtReliefGuard.com — Independent, FTC-Aligned Guidance.</p>
    <p>Website operated by <a href="https://gatewayfinancialsettlementrelief.com" target="_blank" rel="noopener">Gateway Financial Settlement Relief</a></p>
    <p style="font-size:.82rem;color:#999">“Gateway Debt Help” is the marketing brand of <strong>Gateway Financial Settlement Relief, LLC</strong>. Not affiliated with “Gateway Debt Relief” of Costa Mesa, CA.</p>
  </footer>

  <!-- Honeypot -->
  <script>
    (function(){
      const honeypot=document.createElement("input");
      honeypot.type="text"; honeypot.name="website"; honeypot.autocomplete="off";
      honeypot.hidden=true; honeypot.setAttribute("aria-hidden","true");
      document.body.appendChild(honeypot);
      let moved=false, t=0;
      addEventListener('mousemove',()=>moved=true,{passive:true});
      addEventListener('keydown',()=>moved=true,{passive:true});
      setInterval(()=>t++,1000);
      window.validateBotProtections=()=> (honeypot.value==="" && moved && t>=3);
    })();
  </script>

  <!-- Dynamic spacing for mobile bar -->
  <script>
    (function(){
      const root=document.documentElement, mb=document.getElementById('drgMobileBar');
      function setH(){ const h=mb && getComputedStyle(mb).display!=='none' ? mb.offsetHeight : 0; root.style.setProperty('--callbar-h', h+'px'); }
      setH(); addEventListener('resize', setH, {passive:true}); setTimeout(setH,250); setTimeout(setH,1000);
    })();
  </script>

  <!-- Telemetry (015) -->
  <script>
    (function(){
      try{
        const key='drg:sess:v1'; let sid=sessionStorage.getItem(key);
        if(!sid){ sid=crypto.randomUUID(); sessionStorage.setItem(key, sid); }
        const payload={ v:1, ts:Date.now(), sid, url:location.href, ref:document.referrer||null, w:innerWidth, h:innerHeight };
        const blob=new Blob([JSON.stringify(payload)],{type:'application/json'});
        if(navigator.sendBeacon){ navigator.sendBeacon('/ingest', blob); }
        else { fetch('/ingest',{ method:'POST', body:blob, keepalive:true, headers:{'Content-Type':'application/json'} }).catch(()=>{}); }
      }catch(_){}
    })();
  </script>

  <!-- Contact form JS (progressive enhancement; graceful fallback to mailto) -->
  <script>
    (function(){
      const form = document.getElementById('contactForm');
      const msg  = document.getElementById('formMsg');
      if(!form) return;

      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        msg.className='msg'; msg.textContent='Sending…';
        const data = {
          name:   form.name.value.trim(),
          email:  form.email.value.trim(),
          phone:  form.phone.value.trim(),
          topic:  form.topic.value.trim(),
          message:form.message.value.trim(),
          url:    location.href,
          ts:     Date.now()
        };
        if(!data.name || !data.email || !data.message){
          msg.className='msg err'; msg.textContent='Please fill Name, Email, and Message.';
          return;
        }
        try{
          const r = await fetch('/api/contact', {
            method:'POST',
            headers:{'Content-Type':'application/json','Accept':'application/json','X-Requested-With':'XMLHttpRequest'},
            body: JSON.stringify(data)
          });
          if(!r.ok) throw new Error('HTTP '+r.status);
          msg.className='msg ok'; msg.textContent='Thanks — your message was sent.';
          form.reset();
        }catch(err){
          console.error('CONTACT ERROR', err);
          msg.className='msg err';
          msg.innerHTML = 'Could not send via server. You can <a href="mailto:info@gatewaydebthelp.com">email us</a> instead.';
        }
      });
    })();
  </script>

  <!-- 016 Chat (FAB + Sheet + Behavior) -->
  <button id="gfsrChatFab" class="gfsr-chat-fab" aria-haspopup="dialog" aria-expanded="false" aria-controls="gfsrChatSheet"
          style="position:fixed; right:14px; bottom:calc(var(--callbar-h) + var(--sitemap-h) + 14px); z-index:10003; display:inline-flex; align-items:center; gap:.5rem; padding:.8rem 1rem; border-radius:999px; border:1px solid rgba(0,0,0,.06); background:#0b63f6; color:#fff; box-shadow:0 10px 30px rgba(0,0,0,.18); font:600 14px/1.1 system-ui,-apple-system,Segoe UI,Roboto,Arial">💬 Chat</button>

  <section id="gfsrChatSheet" class="gfsr-chat-sheet" role="dialog" aria-modal="true"
           aria-labelledby="gfsrChatTitle" aria-describedby="gfsrChatDesc" hidden
           style="position:fixed; inset:auto 0 0 0; margin:auto; width:100%; max-width:420px; right:12px; left:auto; border-radius:18px 18px 0 0; background:#fff; box-shadow:0 10px 30px rgba(0,0,0,.18); transform:translateY(110%); transition:transform .28s ease; border:1px solid rgba(0,0,0,.06); z-index:10004">
    <header class="gfsr-chat-head" style="display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid rgba(0,0,0,.06); background:#f9fafb; border-radius:inherit">
      <div>
        <div id="gfsrChatTitle" class="gfsr-chat-title" style="font-weight:700; font-size:15px">Debt Help Assistant</div>
        <div id="gfsrChatDesc" class="sr-only">Chat with our assistant. Press Escape to close.</div>
      </div>
      <button id="gfsrChatClose" class="gfsr-chat-close" aria-label="Close chat" style="background:transparent; border:none; padding:8px; border-radius:10px; cursor:pointer">✕</button>
    </header>

    <div id="gfsrChatBody" class="gfsr-chat-body" tabindex="0" style="display:flex; flex-direction:column; gap:8px; padding:12px; height:min(70vh, 520px); overflow:auto; -webkit-overflow-scrolling:touch"></div>

    <form id="gfsrChatForm" class="gfsr-chat-input" style="display:flex; gap:8px; padding:10px; border-top:1px solid rgba(0,0,0,.06); background:#fff; border-radius:0 0 18px 18px">
      <label class="sr-only" for="gfsrChatInput">Type your message</label>
      <textarea id="gfsrChatInput" rows="1" placeholder="Type a message…" aria-label="Message" style="flex:1; resize:none; min-height:42px; max-height:120px; padding:10px 12px; border:1px solid #e5e7eb; border-radius:12px; font-size:14px; line-height:1.35"></textarea>
      <button id="gfsrChatSend" class="gfsr-chat-send" type="submit" style="background:#0b63f6; color:#fff; border:none; padding:12px 14px; border-radius:12px; font-weight:700">Send</button>
    </form>
  </section>

  <script>
    (function(){
      const el = {
        fab:   document.getElementById('gfsrChatFab'),
        sheet: document.getElementById('gfsrChatSheet'),
        close: document.getElementById('gfsrChatClose'),
        body:  document.getElementById('gfsrChatBody'),
        form:  document.getElementById('gfsrChatForm'),
        input: document.getElementById('gfsrChatInput'),
        send:  document.getElementById('gfsrChatSend'),
      };
      const openChat = () => { el.sheet.removeAttribute('hidden'); el.sheet.classList.add('open'); el.sheet.style.transform='translateY(0)'; el.fab.setAttribute('aria-expanded','true'); setTimeout(()=>el.input.focus(),120); };
      const closeChat = () => { el.sheet.classList.remove('open'); el.sheet.style.transform='translateY(110%)'; el.fab.setAttribute('aria-expanded','false'); el.sheet.setAttribute('hidden',''); el.fab.focus(); };
      el.fab.addEventListener('click', openChat); el.close.addEventListener('click', closeChat);
      addEventListener('keydown', e => { if (e.key==='Escape' && !el.sheet.hasAttribute('hidden')) closeChat(); });

      const addMsg = (text, who='bot') => {
        const d=document.createElement('div'); d.className=`gfsr-msg ${who}`;
        d.style.maxWidth='88%'; d.style.padding='10px 12px'; d.style.borderRadius='14px'; d.style.fontSize='14px'; d.style.lineHeight='1.35';
        if(who==='user'){ d.style.marginLeft='auto'; d.style.background='#0b63f6'; d.style.color='#fff'; d.style.borderTopRightRadius='4px'; }
        else if(who==='bot'){ d.style.background='#eef2ff'; d.style.color='#111'; d.style.borderTopLeftRadius='4px'; }
        else{ d.style.background='#f3f4f6'; d.style.color='#444'; d.style.fontSize='12px'; d.style.margin='4px auto'; }
        d.textContent=(text??'').toString(); el.body.appendChild(d); el.body.scrollTop=el.body.scrollHeight;
      };

      const KEY='drg:chat-history';
      try{ (JSON.parse(localStorage.getItem(KEY)||'[]')).slice(-20).forEach(m=>addMsg(m.text,m.who)); }catch{}
      const remember=(t,w)=>{ try{ const h=JSON.parse(localStorage.getItem(KEY)||'[]'); h.push({text:t,who:w,t:Date.now()}); localStorage.setItem(KEY, JSON.stringify(h).slice(-8000)); }catch{} };

      let interacted=false; addEventListener('mousemove',()=>interacted=true,{once:true,passive:true}); addEventListener('keydown',()=>interacted=true,{once:true,passive:true});
      const nonce=()=>Array.from(crypto.getRandomValues(new Uint8Array(12))).map(b=>b.toString(16).padStart(2,'0')).join('');
      const API=`${location.origin}/chat`; let busy=false;

      el.form.addEventListener('submit', async (e)=>{
        e.preventDefault(); if(!interacted||busy) return;
        const message=(el.input.value||'').trim(); if(!message) return;
        addMsg(message,'user'); remember(message,'user'); el.input.value=''; busy=true; el.send.disabled=true;
        try{
          const r=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','X-Requested-With':'XMLHttpRequest','X-Client-Nonce':nonce()},body:JSON.stringify({messages:[{role:'user',content:message}],source:'frontend',url:location.href})});
          if(!r.ok){ const t=await r.text().catch(()=> ''); addMsg(`Service error ${r.status}.`,'meta'); console.error('CHAT ERROR', r.status, t); return; }
          const ct=r.headers.get('content-type')||''; let reply=''; reply=ct.includes('application/json')?(await r.json()).reply||'':await r.text();
          addMsg(reply||'Thanks — how else can I help?','bot'); remember(reply||'','bot');
        }catch(err){ console.error('CHAT NET', err); addMsg('Network error — please try again.','meta'); }
        finally{ busy=false; el.send.disabled=false; el.input.focus(); }
      });

      if(!el.body.children.length) addMsg('Want to talk to a specialist or leave a message? I can guide you.');
    })();
  </script>

  <!-- === BEGIN: Worker Bridges (added) ===================================== -->

  <!-- 050: Savings message loader (updates #ab-cta-text if API is present) -->
  <script>
    (function(){
      const el = document.querySelector('#ab-cta-text'); if(!el) return;
      const FALLBACK = el.textContent || '';
      const CACHE_KEY = 'drg:savings:v1'; const MAX_AGE_MS = 10*60*1000;

      try{
        const raw = localStorage.getItem(CACHE_KEY);
        if(raw){
          const { ts, message } = JSON.parse(raw);
          if(ts && (Date.now()-ts) < MAX_AGE_MS && message) el.textContent = (message ?? '').toString();
        }
      }catch{}

      (async ()=>{
        const sleep = (ms)=>new Promise(r=>setTimeout(r,ms));
        const attempt = async (ms) => {
          const ctrl=new AbortController(); const to=setTimeout(()=>ctrl.abort(), ms);
          try{
            const r = await fetch('/api/savings-message', { headers:{'Accept':'application/json','X-Requested-With':'XMLHttpRequest'}, cache:'no-store', credentials:'omit', signal:ctrl.signal });
            clearTimeout(to);
            if(!r.ok || !((r.headers.get('content-type')||'').includes('application/json'))) throw new Error();
            const data = await r.json();
            if(data && data.message){
              el.textContent = (data.message ?? '').toString();
              try{ localStorage.setItem(CACHE_KEY, JSON.stringify({ ts: Date.now(), message: data.message })); }catch{}
              return true;
            }
          }catch{}
          return false;
        };
        let ok = await attempt(3500);
        if(!ok){ await sleep(180); ok = await attempt(4500); }
        if(!ok) el.textContent = FALLBACK;
      })();
    })();
  </script>

  <!-- Page bridge for 015 / 016 / 057 (non-visual; no-ops unless called) -->
  <script>
    (function(){
      if (window.GFSR && window.GFSR.bridgeReady) return;
      const $ = (s)=>document.querySelector(s);
      const api = {
        bridgeReady: true,
        page: document.querySelector('meta[name="x-ai-optimizer-page"]')?.content || null,
        slots: (window.__ab && window.__ab.slots) ? window.__ab.slots : {},
        // 050/015: controlled content setters
        setHeadline(txt){ const h = $('#ab-cta-text'); if(h && typeof txt==='string') h.textContent = txt; },
        setPrimaryCta({text, href}={}){ const a=$('.hero-ctas .btn.btn-primary'); if(a){ if(typeof text==='string') a.textContent=text; if(typeof href==='string') a.href=href; } },
        // 057: log helper
        log(name, data={}){
          try{
            const b=new Blob([JSON.stringify({ name, ts:Date.now(), url:location.href, ...data })],{type:'application/json'});
            if(navigator.sendBeacon) navigator.sendBeacon('/ingest', b);
            else fetch('/ingest',{ method:'POST', body:b, keepalive:true, headers:{'Content-Type':'application/json'} }).catch(()=>{});
          }catch{}
        },
        // 016: programmatic chat send
        chatSend(text){
          const input=document.getElementById('gfsrChatInput');
          const form =document.getElementById('gfsrChatForm');
          if(input && form){ input.value = text || ''; form.requestSubmit(); }
        }
      };
      // 015: optional client API (safe if server exposes /ab/*)
      api.w015 = {
        decide: (experimentKey, context={}) =>
          fetch('/ab/decide', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ experimentKey, context }) }).then(r=>r.json()),
        report: (experimentKey, variant, outcome, meta={}) =>
          fetch('/ab/report', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ experimentKey, variant, outcome, meta }) }).then(r=>r.ok)
      };
      window.GFSR = Object.assign(window.GFSR || {}, api);
    })();
  </script>

  <!-- === END: Worker Bridges ============================================== -->

  <!-- noscript -->
  <noscript><p style="text-align:center;color:#666">Enable JavaScript to view dynamic features and chat.</p></noscript>
</body>
</html>
